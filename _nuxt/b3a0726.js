(window.webpackJsonp=window.webpackJsonp||[]).push([[45],{292:function(t,e,r){var content=r(306);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(45).default)("30212ae8",content,!0,{sourceMap:!1})},305:function(t,e,r){"use strict";r(292)},306:function(t,e,r){var o=r(44)(!1);o.push([t.i,".tag:checked+span{color:#6b00ff;font-weight:400;border:1px solid #6b00ff;background-color:rgba(107,0,255,.2)!important}",""]),t.exports=o},308:function(t,e,r){"use strict";r.r(e);r(202),r(41);var o=r(74),l=r(288),n=r(278),d={name:"CreateTeamFrontend",components:{ValidationObserver:o.a,ValidationProvider:o.b,Alert:n.default},mixins:[l.a],props:{nowRole:{default:"",type:String},roleId:{default:3,type:Number},editStatus:{default:!1,type:Boolean}},data:function(){return{works_list:[]}},computed:{filterWorks:function(){var t=this;return this.works_list.filter((function(e){return e.stage_id===t.worksSubmit.stage_id}))},defaultImg:function(){return 1===this.worksSubmit.stage_id?r(279):2===this.worksSubmit.stage_id?r(280):3===this.worksSubmit.stage_id?r(281):4===this.worksSubmit.stage_id?r(282):r(279)}},created:function(){this.getUsesData()},methods:{getUsesData:function(){var t=this;this.$axios.get("/v1/users/works/uses?page=1").then((function(e){t.works_list=e.data.works_list}))}}},c=(r(305),r(36)),component=Object(c.a)(d,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("Alert",{attrs:{message:t.msg}}),t._v(" "),r("ValidationObserver",{scopedSlots:t._u([{key:"default",fn:function(e){var o=e.invalid;return[r("form",{staticClass:"row justify-content-center mt-5",on:{submit:function(e){return e.preventDefault(),t.submitWork(t.editStatus)}}},[r("div",{staticClass:"col-md-4 order-md-0 order-1"},[r("h1",{staticClass:"fs-4 mb-4 text-black"},[t._v("投稿關卡 - "+t._s(t.nowRole))]),t._v(" "),r("ValidationProvider",{attrs:{rules:"excluded: 0"},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.errors;return[r("div",{staticClass:"mb-4"},[r("label",{staticClass:"form-label",attrs:{for:"weekLevel"}},[t._v("投稿關卡*")]),t._v(" "),r("select",{directives:[{name:"model",rawName:"v-model",value:t.worksSubmit.stage_id,expression:"worksSubmit.stage_id"}],staticClass:"form-select mb-2",class:{"is-invalid":o[0]},attrs:{id:"weekLevel",name:"投稿關卡","aria-label":"投稿關卡下拉選單",disabled:t.editStatus||t.teamstageList.frontend.every((function(t){return t.status}))},on:{change:function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.worksSubmit,"stage_id",e.target.multiple?r:r[0])}}},[r("option",{domProps:{value:0}},[t._v("請選擇要投稿的關卡")]),t._v(" "),t._l(t.teamstageList.frontend,(function(e){return[!e.status||t.editStatus?r("option",{key:"stage"+e.id,domProps:{value:e.id}},[t._v(t._s(e.name))]):t._e()]}))],2),t._v(" "),r("span",{staticClass:"invalid-feedback"},[t._v(t._s(o[0]))]),t._v(" "),r("p",[!t.editStatus&&t.postStatus?r("small",{staticClass:"text-danger"},[t._v("已超過投稿時間，此關卡為挑戰失敗")]):t._e()])])]}}],null,!0)}),t._v(" "),r("div",{staticClass:"mb-4"},[r("label",{staticClass:"form-label d-block",attrs:{for:"skills"}},[t._v("使用技術")]),t._v(" "),t._l(t.worksTypes.tags,(function(e){return r("label",{key:e.id,staticClass:"btn btn-sm px-0",attrs:{name:e.name}},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.worksSubmit.tag_ids,expression:"worksSubmit.tag_ids"}],staticClass:"tag d-none",attrs:{id:"tag",type:"checkbox",name:"使用技術"},domProps:{value:e.id,checked:Array.isArray(t.worksSubmit.tag_ids)?t._i(t.worksSubmit.tag_ids,e.id)>-1:t.worksSubmit.tag_ids},on:{change:function(r){var o=t.worksSubmit.tag_ids,l=r.target,n=!!l.checked;if(Array.isArray(o)){var d=e.id,c=t._i(o,d);l.checked?c<0&&t.$set(t.worksSubmit,"tag_ids",o.concat([d])):c>-1&&t.$set(t.worksSubmit,"tag_ids",o.slice(0,c).concat(o.slice(c+1)))}else t.$set(t.worksSubmit,"tag_ids",n)}}}),t._v(" "),r("span",{staticClass:"badge border-transparent rounded-pill bg-light text-dark mb-1"},[t._v(t._s(e.name)+"\n            ")])])}))],2),t._v(" "),r("ValidationProvider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.errors;return[r("div",{staticClass:"mb-4"},[r("label",{staticClass:"form-label",attrs:{for:"page_link"}},[t._v("線上觀看連結*")]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.worksSubmit.online_url,expression:"worksSubmit.online_url"}],staticClass:"form-control",class:{"is-invalid":o[0]},attrs:{id:"page_link",name:"線上觀看連結",type:"text",placeholder:"https://codepen.io/..."},domProps:{value:t.worksSubmit.online_url},on:{input:function(e){e.target.composing||t.$set(t.worksSubmit,"online_url",e.target.value)}}}),t._v(" "),r("span",{staticClass:"invalid-feedback"},[t._v(t._s(o[0]))])])]}}],null,!0)}),t._v(" "),r("div",{staticClass:"mb-4"},[r("label",{staticClass:"form-label",attrs:{for:"repo_link"}},[t._v("原始檔位置")]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.worksSubmit.file_url,expression:"worksSubmit.file_url"}],staticClass:"form-control",attrs:{id:"repo_link",type:"text",placeholder:"https://drive.google.com/..."},domProps:{value:t.worksSubmit.file_url},on:{input:function(e){e.target.composing||t.$set(t.worksSubmit,"file_url",e.target.value)}}})]),t._v(" "),r("ValidationProvider",{attrs:{rules:"required|max:150"},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.errors;return[r("div",{staticClass:"mb-4"},[r("label",{staticClass:"form-label",attrs:{for:"description"}},[t._v("作品描述（限制 150 字）*")]),t._v(" "),r("textarea",{directives:[{name:"model",rawName:"v-model",value:t.worksSubmit.description,expression:"worksSubmit.description"}],staticClass:"form-control",class:{"is-invalid":o[0]},attrs:{id:"description",name:"作品描述",rows:"3"},domProps:{value:t.worksSubmit.description},on:{input:function(e){e.target.composing||t.$set(t.worksSubmit,"description",e.target.value)}}}),t._v(" "),r("span",{staticClass:"invalid-feedback"},[t._v(t._s(o[0]))])])]}}],null,!0)}),t._v(" "),r("ValidationProvider",{attrs:{rules:"excluded: 0"},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.errors;return[r("div",{staticClass:"mb-5"},[r("label",{staticClass:"form-label",attrs:{for:"cc"}},[t._v("\n              創用 CC*("),r("a",{attrs:{href:"http://creativecommons.tw/explore",target:"_blank"}},[t._v("版權說明")]),t._v(")\n            ")]),t._v(" "),r("select",{directives:[{name:"model",rawName:"v-model",value:t.worksSubmit.creative_commons_id,expression:"worksSubmit.creative_commons_id"}],staticClass:"form-select",class:{"is-invalid":o[0]},attrs:{id:"cc",name:"創用 CC","aria-label":"創用 CC 下拉選單"},on:{change:function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.worksSubmit,"creative_commons_id",e.target.multiple?r:r[0])}}},[r("option",{domProps:{value:0}},[t._v("請選擇版權")]),t._v(" "),t._l(t.worksData.creative_commons,(function(e){return r("option",{key:e.id,domProps:{value:e.id}},[t._v(t._s(e.name))])}))],2),t._v(" "),r("span",{staticClass:"invalid-feedback"},[t._v(t._s(o[0]))])])]}}],null,!0)}),t._v(" "),r("div",{staticClass:"d-grid"},[r("button",{staticClass:"btn btn-primary",attrs:{type:"submit",disabled:o}},[t._v("\n            "+t._s(t.editStatus?"編輯投稿":"投稿")+"\n          ")])])],1),t._v(" "),r("div",{staticClass:"col-md-4 order-md-1 order-0"},[t._l(t.filterWorks,(function(e){return r("div",{key:e.id},[r("div",[t._l(e.images,(function(image){return r("div",{key:image.id,staticClass:"mb-4"},[image.is_cover?r("div",[r("img",{staticClass:"img-fluid",attrs:{src:image.image_url,alt:""}})]):t._e()])})),t._v(" "),r("p",[t._v("設計稿狀態"),r("small",{staticClass:"text-danger"})]),t._v(" "),r("p",[t._v("已提交設計稿"),r("span",{staticClass:"link-dark"},[t._v(t._s(e.team_name))])])],2)])})),t._v(" "),t.filterWorks.length?t._e():r("div",[r("div",{staticClass:"mb-4"},[r("img",{staticClass:"img-fluid",attrs:{src:t.defaultImg,alt:""}})]),t._v(" "),r("p",[t._v("設計稿狀態"),r("small",{staticClass:"text-danger"})]),t._v(" "),r("p",{staticClass:"text-muted"},[t._v("尚未提交 UI 設計稿")])])],2)])]}}])})],1)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{Alert:r(278).default})},435:function(t,e,r){"use strict";r.r(e);var o=r(341),l=r(308),n={components:{CreateTeamUI:o.default,CreateTeamFrontend:l.default},data:function(){return{status:{}}},mounted:function(){this.status=this.$localStorage.get("team"),this.status.id||this.$router.push("/works/team")}},d=r(36),component=Object(d.a)(n,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"container"},[3===t.status.typeId?r("CreateTeamUI",{attrs:{"now-role":"團體組 UI","role-id":3,"edit-status":!0}}):t._e(),t._v(" "),4===t.status.typeId?r("CreateTeamFrontend",{attrs:{"now-role":"團體組前端","role-id":4,"edit-status":!0}}):t._e()],1)}),[],!1,null,null,null);e.default=component.exports}}]);