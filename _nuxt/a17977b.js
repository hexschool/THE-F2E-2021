(window.webpackJsonp=window.webpackJsonp||[]).push([[27,5],{278:function(t,e,n){"use strict";n.r(e);n(55);var r={name:"Alert",props:{message:{default:function(){return{}},type:Object}},data:function(){return{messages:[]}},watch:{message:function(){this.message.content&&this.addAlert()}},methods:{addAlert:function(){var t=this.message,style=t.style,e=t.icon,content=t.content;this.messages.push({style:style,icon:e,content:content}),this.removeAlert()},removeAlert:function(){var t=this;setTimeout((function(){t.messages.shift()}),6e3)}}},o=n(36),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",t._l(t.messages,(function(e,r){return n("div",{key:r,staticClass:"alert mb-6 my-2",class:"alert-"+e.style,attrs:{role:"alert"}},[n("p",{staticClass:"mb-0"},[n("i",{staticClass:"pe-1 fas",class:e.icon}),t._v(t._s(e.content))])])})),0)}),[],!1,null,null,null);e.default=component.exports},284:function(t,e,n){t.exports=n.p+"img/login-img.9b26552.png"},328:function(t,e,n){var content=n(348);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(45).default)("6e42f7c1",content,!0,{sourceMap:!1})},347:function(t,e,n){"use strict";n(328)},348:function(t,e,n){var r=n(44)(!1);r.push([t.i,".bg-login{background-image:url(https://firebasestorage.googleapis.com/v0/b/hexschool-api.appspot.com/o/blog%2F2021%2F09%2F09%2FF2E-2021-og.png?alt=media&token=04bf41b4-1d3c-4f90-bec5-a5567ccf1fa3);background-size:cover;background-position:50%;background-repeat:no-repeat;background-color:hsla(0,0%,100%,.8);background-blend-mode:overlay}",""]),t.exports=r},417:function(t,e,n){"use strict";n.r(e);var r=[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col-md-5 d-md-block d-none",staticStyle:{height:"calc(78vh)"}},[e("img",{staticClass:"img-fluid h-100 w-100",staticStyle:{"object-fit":"cover"},attrs:{src:n(284),alt:"Login"}})])}],o=n(74),c=n(278),l={name:"PasswordReset",components:{ValidationObserver:o.a,ValidationProvider:o.b,Alert:c.default},data:function(){return{user:{account:"",password:"",confirm_password:""},msg:{}}},methods:{resetPassword:function(){var t=this,e=this.$route.query.token,n="/v1/users/reset-password/verify?token=".concat(e);this.user.account=this.$localStorage.get("account"),e&&this.$axios.post(n,this.user).then((function(){t.$localStorage.remove("account"),t.$router.push("/users"),t.msg={style:"success",icon:"fa-check-circle",content:"已更新成功！"}})).catch((function(e){t.msg={style:"danger",icon:"fa-exclamation-triangle",content:e.response.data.message||"更新失敗！"}}))}}},d=(n(347),n(36)),component=Object(d.a)(l,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"bg-login d-flex align-items-center"},[n("div",{staticClass:"container py-5"},[n("div",{staticClass:"row justify-content-center"},[n("div",{staticClass:"col-lg-8 col-10"},[n("Alert",{attrs:{message:t.msg}})],1)]),t._v(" "),n("div",{staticClass:"row justify-content-center g-0"},[t._m(0),t._v(" "),n("div",{staticClass:"\n          col-md-5\n          bg-white\n          d-flex\n          flex-column\n          justify-content-center\n          px-6\n          py-md-3 py-7\n        ",staticStyle:{height:"calc(78vh)"}},[n("h1",{staticClass:"fs-2 mb-5"},[t._v("重設密碼")]),t._v(" "),n("ValidationObserver",{scopedSlots:t._u([{key:"default",fn:function(e){var r=e.invalid;return[n("form",{on:{submit:function(e){return e.preventDefault(),t.resetPassword.apply(null,arguments)}}},[n("ValidationProvider",{attrs:{rules:"password",vid:"confirm_password"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.errors;return[n("div",{staticClass:"mb-4"},[n("label",{staticClass:"form-label",attrs:{for:"password"}},[t._v("新密碼")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.user.password,expression:"user.password"}],staticClass:"form-control",class:{"is-invalid":r[0]},attrs:{id:"password",name:"密碼",type:"password"},domProps:{value:t.user.password},on:{input:function(e){e.target.composing||t.$set(t.user,"password",e.target.value)}}}),t._v(" "),n("span",{staticClass:"invalid-feedback"},[t._v(t._s(r[0]))])])]}}],null,!0)}),t._v(" "),n("ValidationProvider",{attrs:{rules:"required|confirmed:confirm_password"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.errors;return[n("div",{staticClass:"mb-4"},[n("label",{staticClass:"form-label",attrs:{for:"confirm_password"}},[t._v("確認密碼")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.user.confirm_password,expression:"user.confirm_password"}],staticClass:"form-control",class:{"is-invalid":r[0]},attrs:{id:"confirm_password",name:"確認密碼",type:"password"},domProps:{value:t.user.confirm_password},on:{input:function(e){e.target.composing||t.$set(t.user,"confirm_password",e.target.value)}}}),t._v(" "),n("span",{staticClass:"invalid-feedback"},[t._v(t._s(r[0]))])])]}}],null,!0)}),t._v(" "),n("div",{staticClass:"d-grid"},[n("button",{staticClass:"btn btn-primary",attrs:{type:"submit",disabled:r}},[t._v("\n                確認送出\n              ")])])],1)]}}])})],1)])])])}),r,!1,null,null,null);e.default=component.exports;installComponents(component,{Alert:n(278).default})}}]);