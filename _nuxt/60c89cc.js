(window.webpackJsonp=window.webpackJsonp||[]).push([[33,5],{278:function(t,e,n){"use strict";n.r(e);n(55);var c={name:"Alert",props:{message:{default:function(){return{}},type:Object}},data:function(){return{messages:[]}},watch:{message:function(){this.message.content&&this.addAlert()}},methods:{addAlert:function(){var t=this.message,style=t.style,e=t.icon,content=t.content;this.messages.push({style:style,icon:e,content:content}),this.removeAlert()},removeAlert:function(){var t=this;setTimeout((function(){t.messages.shift()}),6e3)}}},o=n(36),component=Object(o.a)(c,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",t._l(t.messages,(function(e,c){return n("div",{key:c,staticClass:"alert mb-6 my-2",class:"alert-"+e.style,attrs:{role:"alert"}},[n("p",{staticClass:"mb-0"},[n("i",{staticClass:"pe-1 fas",class:e.icon}),t._v(t._s(e.content))])])})),0)}),[],!1,null,null,null);e.default=component.exports},284:function(t,e,n){t.exports=n.p+"img/login-img.9b26552.png"},332:function(t,e,n){var content=n(359);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(45).default)("54fa0c58",content,!0,{sourceMap:!1})},358:function(t,e,n){"use strict";n(332)},359:function(t,e,n){var c=n(44)(!1);c.push([t.i,".bg-login{background-image:url(https://firebasestorage.googleapis.com/v0/b/hexschool-api.appspot.com/o/blog%2F2021%2F09%2F09%2FF2E-2021-og.png?alt=media&token=04bf41b4-1d3c-4f90-bec5-a5567ccf1fa3);background-size:cover;background-position:50%;background-repeat:no-repeat;background-color:hsla(0,0%,100%,.8);background-blend-mode:overlay}",""]),t.exports=c},422:function(t,e,n){"use strict";n.r(e);var c=[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col-md-5 d-md-block d-none",staticStyle:{height:"calc(78vh)"}},[e("img",{staticClass:"img-fluid h-100 w-100",staticStyle:{"object-fit":"cover"},attrs:{src:n(284),alt:"Login"}})])}],o=n(74),r=n(278),l={name:"Verify",components:{ValidationObserver:o.a,ValidationProvider:o.b,Alert:r.default},data:function(){return{user:{account:""},msg:{},loading:!0,status:!0}},mounted:function(){this.registerVerify()},methods:{registerVerify:function(){var t=this,code=this.$route.query.verify_code,e=this.$route.query.account;if(e&&code){var n={account:e,verify_code:code};this.$axios.put("/v1/users/register/verify",n).then((function(){t.loading=!1,t.$router.push("/users"),t.msg={style:"success",icon:"fa-check-circle",content:"驗證成功！"}})).catch((function(e){t.loading=!1,t.status=!1,t.msg={style:"danger",icon:"fa-exclamation-triangle",content:e.response.data.message||"驗證失敗！"}}))}},sendVerifyCode:function(){var t=this;this.$axios.post("/v1/users/register/verify",this.user).then((function(){t.msg={style:"success",icon:"fa-check-circle",content:"發送成功！"}})).catch((function(e){t.msg={style:"danger",icon:"fa-exclamation-triangle",content:e.response.data.message||"發送失敗！"}}))}}},d=(n(358),n(36)),component=Object(d.a)(l,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"bg-login d-flex align-items-center"},[n("div",{staticClass:"container py-5"},[n("div",{staticClass:"row justify-content-center"},[n("div",{staticClass:"col-lg-8 col-10"},[n("Alert",{attrs:{message:t.msg}})],1)]),t._v(" "),n("div",{staticClass:"row justify-content-center g-0"},[t._m(0),t._v(" "),n("div",{staticClass:"\n          col-md-5\n          bg-white\n          d-flex\n          flex-column\n          justify-content-center\n          px-6\n          py-md-3 py-7\n        ",staticStyle:{height:"calc(78vh)"}},[t.status&&t.loading?n("div",{staticClass:"fs-2 mb-5"},[t._v("驗證中 ...")]):t.status?n("div",{staticClass:"fs-2 mb-5"},[t._v("驗證成功 :D")]):n("div",[n("h1",{staticClass:"fs-2 mb-5"},[t._v("Oops！驗證沒有成功嗎？")]),t._v(" "),n("ValidationObserver",{scopedSlots:t._u([{key:"default",fn:function(e){var c=e.invalid;return[n("form",{on:{submit:function(e){return e.preventDefault(),t.sendVerifyCode.apply(null,arguments)}}},[n("ValidationProvider",{attrs:{rules:"required|email"},scopedSlots:t._u([{key:"default",fn:function(e){var c=e.errors;return[n("div",{staticClass:"mb-4"},[n("label",{staticClass:"form-label",attrs:{for:"account"}},[t._v("請輸入您報名時的\n                    Email，我們將會為您寄送重新驗證信件")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.user.account,expression:"user.account"}],staticClass:"form-control",class:{"is-invalid":c[0]},attrs:{id:"account",name:"帳號",type:"email",placeholder:"name@example.com"},domProps:{value:t.user.account},on:{input:function(e){e.target.composing||t.$set(t.user,"account",e.target.value)}}}),t._v(" "),n("span",{staticClass:"invalid-feedback"},[t._v(t._s(c[0]))])])]}}],null,!0)}),t._v(" "),n("div",{staticClass:"d-grid"},[n("button",{staticClass:"btn btn-primary",attrs:{type:"submit",disabled:c}},[t._v("\n                  重發驗證信\n                ")])])],1)]}}])})],1)])])])])}),c,!1,null,null,null);e.default=component.exports;installComponents(component,{Alert:n(278).default})}}]);